$.fn.extend({initPageNav:function(e,c,a,b,f){c=(c&&c>0)?parseInt(c):0;a=parseInt(a)||0;b=parseInt(b)||10;f=parseInt(f)||2;var d=parseInt((c+b-1)/b);if(a<0||a>d-1){a=0}$(".pageCount").text(d);$(".spnPageIndexBar").empty().each(function(){var h=$(this);if(d>0){h.addLink(e,0,a);var k=(a-f)>1?(a-f):1;if(k>f){h.append("...")}var g=(d-(a+f))>1?a+f+1:d-1;for(var j=k;j<g;j++){h.addLink(e,j,a)}if(d-g>f){h.append("...")}if(d-1>0){h.addLink(e,d-1,a)}}});if(a>0){$(".aGoFirstPage").click(function(){e(0)})}if(a>0){$(".aGoPrevPage").click(function(){e(a-1)})}if(a<d-1){$(".aGoNextPage").click(function(){e(a+1)})}if(a<d-1){$(".aGoLastPage").click(function(){e(d-1)})}$(".selPageIndex").empty().each(function(){var h=$(this);if(d>0){h.addOption(0,a);var k=(a-f)>1?(a-f):1;var g=(d-(a+f))>1?a+f+1:d-1;for(var j=k;j<g;j++){h.addOption(j,a)}if(d-1>0){h.addOption(d-1,a)}}}).change(function(){e($(this).val());return false});return this},addLink:function(b,a,c){var d=$("<a href='#'></a>").text(a+1);d.click(function(){b(a);return false});if(a==c){d=$("<b></b>");d.text(a+1)}this.append(d).append("&nbsp;");return this},addOption:function(a,b){var c=$(new Option()).text(a+1).val(a);if(a==b){c.attr("selected","true")}this.append(c);return this}});